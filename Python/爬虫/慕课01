import requests
"""
r.status_code 状态码200可爬取，查看编码r.encoding,r.encoding=r.apparent_encoding"""
def getHTML(url):
    try:
        r=requests.get(url,timeout = 30)
        r.raise_for_status()
        r.encoding=r.apparent_encoding
        return r.text[:2000]
    except:
        return "产生异常"
if __name__=='__main__':
    url = 'https://item.jd.com/6856662.html'
    print(getHTML(url))
    
    
    
